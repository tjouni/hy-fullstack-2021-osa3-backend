{"version":3,"sources":["services/persons.js","App.js","index.js"],"names":["baseUrl","axios","get","newObject","post","id","put","delete","Numbers","persons","searchTerm","handleDelete","visiblePersons","filter","p","name","toLowerCase","includes","map","person","number","onClick","Form","addNumber","handleNameChange","handleNumberChange","newName","newNumber","onSubmit","onChange","value","type","Filter","handleSearchTermChange","Notification","notification","message","className","App","useState","setPersons","setNewName","setNewNumber","setSearchTerm","setNotification","notify","setTimeout","useEffect","personService","then","response","data","catch","error","console","log","event","target","preventDefault","find","updatedPerson","window","confirm","updateNumber","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.90096096.chunk.js","sourcesContent":["import axios from \"axios\";\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n  return axios.get(baseUrl);\n};\n\nconst create = (newObject) => {\n  return axios.post(baseUrl, newObject);\n};\n\nconst update = (id, newObject) => {\n  return axios.put(`${baseUrl}/${id}`, newObject);\n};\n\nconst remove = (id) => {\n  return axios.delete(`${baseUrl}/${id}`);\n};\n\nexport default {\n  getAll,\n  create,\n  update,\n  remove,\n};\n","import React, { useState, useEffect } from \"react\";\nimport personService from \"./services/persons\";\n\nconst Numbers = ({ persons, searchTerm, handleDelete }) => {\n  const visiblePersons = persons.filter((p) =>\n    p.name.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n  return (\n    <div>\n      <h3>Numbers</h3>\n      <ul>\n        {visiblePersons.map((person) => (\n          <li key={person.id}>\n            {person.name} {person.number}{\" \"}\n            <button onClick={() => handleDelete(person)}>delete</button>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nconst Form = ({\n  addNumber,\n  handleNameChange,\n  handleNumberChange,\n  newName,\n  newNumber,\n}) => {\n  return (\n    <div>\n      <h3>add a new</h3>\n      <form onSubmit={addNumber}>\n        <div>\n          name: <input onChange={handleNameChange} value={newName} />\n        </div>\n        <div>\n          number: <input onChange={handleNumberChange} value={newNumber} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nconst Filter = ({ handleSearchTermChange, searchTerm }) => {\n  return (\n    <div>\n      filter shown with:\n      <input onChange={handleSearchTermChange} value={searchTerm} />\n    </div>\n  );\n};\n\nconst Notification = ({ notification }) => {\n  if (notification.message === null) {\n    return null;\n  }\n  return <div className={notification.type}>{notification.message}</div>;\n};\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [notification, setNotification] = useState({\n    type: null,\n    message: null,\n  });\n\n  const notify = (type, message) => {\n    setNotification({ type, message });\n    setTimeout(() => setNotification({ type: null, message: null }), 5000);\n  };\n  useEffect(() => {\n    personService\n      .getAll()\n      .then((response) => setPersons(response.data))\n      .catch((error) => console.log(error));\n  }, []);\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n  const handleDelete = (person) => {\n    window.confirm(`Delete ${person.name}?`) &&\n      personService\n        .remove(person.id)\n        .then(() => {\n          setPersons(persons.filter((p) => p.id !== person.id));\n          notify(\"success\", `Deleted ${person.name}`);\n        })\n        .catch((error) => notify(\"error\", error.response.data.error));\n  };\n  const updateNumber = (person) => {\n    const updatedPerson = { ...person, number: newNumber };\n    window.confirm(\n      `${newName} is already added to phonebook, replace old number with new one?`\n    ) &&\n      personService\n        .update(person.id, updatedPerson)\n        .then((response) => {\n          setPersons(\n            persons.map((person) =>\n              person.id === updatedPerson.id ? updatedPerson : person\n            )\n          );\n          notify(\"success\", `Updated ${response.data.name}`);\n        })\n        .catch(() =>\n          notify(\n            \"error\",\n            `Information of ${newName} has already been removed from server`\n          )\n        );\n  };\n  const addNumber = (event) => {\n    event.preventDefault();\n    const person = persons.find((person) => person.name === newName);\n    person\n      ? updateNumber(person)\n      : personService\n          .create({ name: newName, number: newNumber })\n          .then((response) => {\n            setPersons(persons.concat(response.data));\n            notify(\"success\", `Added ${newName}`);\n          })\n          .catch((error) => notify(\"error\", error.response.data.error));\n  };\n  const handleSearchTermChange = (event) => {\n    setSearchTerm(event.target.value);\n  };\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification notification={notification} />\n      <Filter\n        handleSearchTermChange={handleSearchTermChange}\n        searchTerm={searchTerm}\n      />\n      <Form\n        addNumber={addNumber}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n        newName={newName}\n        newNumber={newNumber}\n      />\n      <Numbers\n        persons={persons}\n        searchTerm={searchTerm}\n        handleDelete={handleDelete}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}